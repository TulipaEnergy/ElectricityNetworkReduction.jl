<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model Usage · ElectricityNetworkReduction.jl</title><meta name="title" content="Model Usage · ElectricityNetworkReduction.jl"/><meta property="og:title" content="Model Usage · ElectricityNetworkReduction.jl"/><meta property="twitter:title" content="Model Usage · ElectricityNetworkReduction.jl"/><meta name="description" content="Documentation for ElectricityNetworkReduction.jl."/><meta property="og:description" content="Documentation for ElectricityNetworkReduction.jl."/><meta property="twitter:description" content="Documentation for ElectricityNetworkReduction.jl."/><meta property="og:url" content="https://TulipaEnergy.github.io/ElectricityNetworkReduction.jl/03-model-usage/"/><meta property="twitter:url" content="https://TulipaEnergy.github.io/ElectricityNetworkReduction.jl/03-model-usage/"/><link rel="canonical" href="https://TulipaEnergy.github.io/ElectricityNetworkReduction.jl/03-model-usage/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ElectricityNetworkReduction.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../01-introduction/">Introduction</a></li><li><a class="tocitem" href="../02-mathematical-formulation/">Mathematical Formulation</a></li><li class="is-active"><a class="tocitem" href>Model Usage</a><ul class="internal"><li><a class="tocitem" href="#1.-Installing-Julia-and-VS-Code"><span>1. Installing Julia and VS Code</span></a></li><li><a class="tocitem" href="#2.-Installing-ElectricityNetworkReduction.jl"><span>2. Installing ElectricityNetworkReduction.jl</span></a></li><li><a class="tocitem" href="#3.-Preparing-Input-Data-for-Analysis"><span>3. Preparing Input Data for Analysis</span></a></li><li><a class="tocitem" href="#4.-How-to-Run-a-Case-Study"><span>4. How to Run a Case Study</span></a></li></ul></li><li><a class="tocitem" href="../04-api/">API Reference</a></li><li><a class="tocitem" href="../contributing/">Contributing Guidelines</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Model Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model Usage</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/ElectricityNetworkReduction.jl/blob/main/docs/src/03-model-usage.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-Usage-Guide"><a class="docs-heading-anchor" href="#Model-Usage-Guide">Model Usage Guide</a><a id="Model-Usage-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Usage-Guide" title="Permalink"></a></h1><p>This guide will walk you through setting up your environment, installing <strong>ElectricityNetworkReduction.jl</strong>, and running your first network reduction analysis.</p><hr/><h2 id="1.-Installing-Julia-and-VS-Code"><a class="docs-heading-anchor" href="#1.-Installing-Julia-and-VS-Code">1. Installing Julia and VS Code</a><a id="1.-Installing-Julia-and-VS-Code-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Installing-Julia-and-VS-Code" title="Permalink"></a></h2><p>To use this package, you first need to install the Julia programming language and a suitable code editor.</p><ul><li><strong>Install Julia</strong>: Download the latest stable version from the <a href="https://julialang.org/downloads/">official Julia website</a>.</li><li><strong>Install VS Code</strong>: While you can run Julia from a terminal, we recommend <a href="https://code.visualstudio.com/">Visual Studio Code</a> with the <strong>Julia Extension</strong> installed for a better development experience.</li></ul><hr/><h2 id="2.-Installing-ElectricityNetworkReduction.jl"><a class="docs-heading-anchor" href="#2.-Installing-ElectricityNetworkReduction.jl">2. Installing ElectricityNetworkReduction.jl</a><a id="2.-Installing-ElectricityNetworkReduction.jl-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Installing-ElectricityNetworkReduction.jl" title="Permalink"></a></h2><h3 id="Starting-Julia"><a class="docs-heading-anchor" href="#Starting-Julia">Starting Julia</a><a id="Starting-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Starting-Julia" title="Permalink"></a></h3><p>Choose one of the following:</p><ul><li><strong>In VS Code</strong>: Press <code>CTRL+Shift+P</code>, type &quot;Julia: Start REPL&quot;, and press <code>Enter</code>.</li><li><strong>In Terminal</strong>: Type <code>julia</code> and press <code>Enter</code>.</li></ul><h3 id="Adding-the-Package-and-Dependencies"><a class="docs-heading-anchor" href="#Adding-the-Package-and-Dependencies">Adding the Package and Dependencies</a><a id="Adding-the-Package-and-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-the-Package-and-Dependencies" title="Permalink"></a></h3><p>The <code>ElectricityNetworkReduction</code> module requires several key libraries for optimization and data handling, including <code>JuMP</code>, <code>DataFrames</code>, <code>XLSX</code>, and solvers like <code>HiGHS</code> and <code>Ipopt</code>.</p><ul><li>Run the following commands to install the package directly from GitHub:</li></ul><pre><code class="language-julia hljs">using Pkg
Pkg.add(url=&quot;https://github.com/TulipaEnergy/ElectricityNetworkReduction.jl.git&quot;)
Pkg.instantiate()</code></pre><h3 id="Verifying-the-Installation"><a class="docs-heading-anchor" href="#Verifying-the-Installation">Verifying the Installation</a><a id="Verifying-the-Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Verifying-the-Installation" title="Permalink"></a></h3><p>Press backspace to return to the standard Julia prompt and run:</p><pre><code class="language-julia hljs">using ElectricityNetworkReduction</code></pre><p>To check if the package is active, enter help mode by pressing ? and search for a core function:</p><pre><code class="language-julia hljs">help?&gt; main_full_analysis</code></pre><p>If you see the documentation for the function, the installation was successful!</p><h2 id="3.-Preparing-Input-Data-for-Analysis"><a class="docs-heading-anchor" href="#3.-Preparing-Input-Data-for-Analysis">3. Preparing Input Data for Analysis</a><a id="3.-Preparing-Input-Data-for-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Preparing-Input-Data-for-Analysis" title="Permalink"></a></h2><p>Before running the model, the input grid data must be properly organised. The model supports input data in <strong>Excel (<code>.xlsx</code>)</strong> or <strong>CSV</strong> formats and identifies datasets based on predefined <strong>sheet names</strong> (for Excel) or <strong>file names</strong> (for CSV).</p><hr/><h3 id="Required-Sheet-/-File-Names"><a class="docs-heading-anchor" href="#Required-Sheet-/-File-Names">Required Sheet / File Names</a><a id="Required-Sheet-/-File-Names-1"></a><a class="docs-heading-anchor-permalink" href="#Required-Sheet-/-File-Names" title="Permalink"></a></h3><p>Your input dataset must include the following four sheets (or corresponding CSV files):</p><ul><li><strong>Lines</strong> – Branch parameters for the internal network</li><li><strong>Tielines</strong> – Parameters for lines connecting different zones or areas</li><li><strong>Nodes</strong> – Bus-level network information</li><li><strong>Generators</strong> – Generator data<blockquote><p><strong>Note:</strong> Generator data is required for the data-loading stage but is not currently used in the network reduction physics. It is reserved for future model extensions.</p></blockquote></li></ul><h3 id="Data-Fields-and-Units"><a class="docs-heading-anchor" href="#Data-Fields-and-Units">Data Fields and Units</a><a id="Data-Fields-and-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Fields-and-Units" title="Permalink"></a></h3><p>The model constructs the bus admittance matrix (<span>$Y_{bus}$</span>) and computes PTDFs based on the physical parameters provided. Correct specification of units is <strong>critical</strong>, especially when performing per-unit (p.u.) conversions.</p><h3 id="Lines-and-Tielines-Sheets"><a class="docs-heading-anchor" href="#Lines-and-Tielines-Sheets">Lines and Tielines Sheets</a><a id="Lines-and-Tielines-Sheets-1"></a><a class="docs-heading-anchor-permalink" href="#Lines-and-Tielines-Sheets" title="Permalink"></a></h3><p>The following parameters are required for both <strong>Lines</strong> and <strong>Tielines</strong>:</p><table><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left">From-node / To-node</td><td style="text-align: left">Connection points of the branch</td></tr><tr><td style="text-align: left">Resistance (R)</td><td style="text-align: left">Series resistance</td></tr><tr><td style="text-align: left">Reactance (X)</td><td style="text-align: left">Series reactance</td></tr><tr><td style="text-align: left">Shunt Susceptance (B)</td><td style="text-align: left">Total shunt susceptance</td></tr></table><blockquote><p><strong>Unit Sensitivity</strong></p><ul><li>If <strong>R, X, B</strong> are already provided in <strong>per-unit (p.u.)</strong>, no additional electrical parameters are required.</li><li>If <strong>R, X, B</strong> are provided in <strong>Ohms</strong>, you <strong>must</strong> also specify:<ul><li><strong>Voltage level (kV)</strong></li><li><strong>Current rating (A)</strong></li></ul></li></ul><p>Without these values, the model cannot perform per-unit conversion, which will lead to incorrect results.</p></blockquote><h3 id="Nodes-Sheet"><a class="docs-heading-anchor" href="#Nodes-Sheet">Nodes Sheet</a><a id="Nodes-Sheet-1"></a><a class="docs-heading-anchor-permalink" href="#Nodes-Sheet" title="Permalink"></a></h3><p>The following fields are required to define network hierarchy and support <strong>Kron reduction</strong>:</p><ul><li><strong>Bus name or number</strong> – Unique bus identifier</li><li><strong>Type</strong> – Load, Generator, or Slack bus</li><li><strong>Area</strong> – Geographic or administrative region</li><li><strong>Zone</strong> – Grouping used to determine representative nodes</li></ul><h2 id="4.-How-to-Run-a-Case-Study"><a class="docs-heading-anchor" href="#4.-How-to-Run-a-Case-Study">4. How to Run a Case Study</a><a id="4.-How-to-Run-a-Case-Study-1"></a><a class="docs-heading-anchor-permalink" href="#4.-How-to-Run-a-Case-Study" title="Permalink"></a></h2><p>This section explains how to configure and execute a complete network reduction case study using <strong>ElectricityNetworkReduction.jl</strong>, and how to interpret the generated outputs. A first-time user should be able to follow these steps end-to-end to successfully run a model.</p><h3 id="Step-1:-Set-the-Configuration"><a class="docs-heading-anchor" href="#Step-1:-Set-the-Configuration">Step 1: Set the Configuration</a><a id="Step-1:-Set-the-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Step-1:-Set-the-Configuration" title="Permalink"></a></h3><p>All model behaviour is controlled through the global <code>CONFIG</code> object. Before running a case study, you should update the relevant configuration parameters to match your input data and study objectives.</p><pre><code class="language-julia hljs">using NetworkReduction

# Example configuration
CONFIG.input_filename = &quot;case118.xlsx&quot;      # Input Excel file name
CONFIG.case_study = &quot;case118&quot;             # Case study identifier
CONFIG.optimization_type = &quot;QP&quot;           # Options: &quot;QP&quot;, &quot;LP&quot;, or &quot;MIQP&quot;
CONFIG.base              = 100.0          # System MVA base
CONFIG.bus_names_as_int  = false           # true if bus IDs are integers, false if strings
CONFIG.in_pu             = false           # true if input data (R, X, B) are already in per-unit
CONFIG.ptdf_epsilon = 0.001               # PTDF zero threshold
CONFIG.suffix = &quot;QP&quot;                      # Output file suffix</code></pre><h3 id="Key-Configuration-Parameters"><a class="docs-heading-anchor" href="#Key-Configuration-Parameters">Key Configuration Parameters</a><a id="Key-Configuration-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Configuration-Parameters" title="Permalink"></a></h3><ul><li>Input_filename:</li></ul><p>Name of the input data file (Excel or CSV). This file must exist inside the specified input directory (test/inputs/) and contain the required sheets/files (Lines, Tielines, Nodes, Generators).</p><ul><li>Optimization_type:</li></ul><p>Selects the method used to determine equivalent line capacities:</p><ul><li><p>&quot;QP&quot;: Quadratic Programming (recommended default)</p></li><li><p>&quot;LP&quot;: Linear Programming</p></li><li><p>&quot;MIQP&quot;: Mixed-Integer formulation (binding line selection)</p></li><li><p>base:</p></li></ul><p>System base power in MVA. All results are internally computed in per-unit and exported in MW using this base.</p><ul><li>bus<em>names</em>as_int:</li></ul><p>Set to true if bus identifiers are numeric (e.g. 101, 205), or false if they are strings (e.g. &quot;Bus_101&quot;).</p><ul><li>in_pu:</li></ul><p>Set to true if line parameters (R, X, B) are already provided in per-unit. If false, the model will convert values from physical units using voltage and current ratings.</p><h3 id="Step-2:-Specify-Input-and-Output-Directories"><a class="docs-heading-anchor" href="#Step-2:-Specify-Input-and-Output-Directories">Step 2: Specify Input and Output Directories</a><a id="Step-2:-Specify-Input-and-Output-Directories-1"></a><a class="docs-heading-anchor-permalink" href="#Step-2:-Specify-Input-and-Output-Directories" title="Permalink"></a></h3><p>The model separates input data from output results. You must explicitly provide the directories when running a case study.</p><pre><code class="language-julia hljs">input_dir  = &quot;test/inputs/case118&quot;
output_dir = &quot;test/outputs/case118&quot;</code></pre><ul><li>Input directory:</li></ul><p>Contains the grid data file specified by CONFIG.input_filename.</p><ul><li>Output directory:</li></ul><p>Will be created automatically (if it does not exist) and populated with all intermediate and final results.</p><h3 id="Step-3:-Execute-the-Full-Analysis-Pipeline"><a class="docs-heading-anchor" href="#Step-3:-Execute-the-Full-Analysis-Pipeline">Step 3: Execute the Full Analysis Pipeline</a><a id="Step-3:-Execute-the-Full-Analysis-Pipeline-1"></a><a class="docs-heading-anchor-permalink" href="#Step-3:-Execute-the-Full-Analysis-Pipeline" title="Permalink"></a></h3><p>Once the configuration and directories are set, run the full automated workflow:</p><pre><code class="language-julia hljs">results = main_full_analysis(input_dir, output_dir)</code></pre><p>This single function call performs the complete pipeline:</p><ol><li><p>Loads and validates the input data</p></li><li><p>Builds the full-network admittance matrix (<span>$Y_{bus}$</span>)</p></li><li><p>Computes PTDFs for the original network</p></li><li><p>Selects representative nodes per zone</p></li><li><p>Applies Kron reduction</p></li><li><p>Computes PTDFs for the reduced network</p></li><li><p>Optimizes equivalent line capacities</p></li><li><p>Exports all results to disk</p></li></ol><p>Progress information and solver status messages are printed to the console during execution.</p><h3 id="5.-Reviewing-the-Results"><a class="docs-heading-anchor" href="#5.-Reviewing-the-Results">5. Reviewing the Results</a><a id="5.-Reviewing-the-Results-1"></a><a class="docs-heading-anchor-permalink" href="#5.-Reviewing-the-Results" title="Permalink"></a></h3><p>After the run completes, the output directory will contain several CSV files documenting each stage of the network reduction process.</p><h4 id="Key-Output-Files"><a class="docs-heading-anchor" href="#Key-Output-Files">Key Output Files</a><a id="Key-Output-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Output-Files" title="Permalink"></a></h4><ul><li>Equivalent_Capacities.csv:</li></ul><p>Contains the optimized capacities of synthetic lines in the reduced network. These capacities define the thermal limits of the equivalent model and are expressed in MW on the specified base.</p><ul><li>TTC_Comparison.csv:</li></ul><p>Provides a detailed comparison of Total Transfer Capacities (TTCs) between the original full network and the reduced equivalent network.  This file includes absolute and percentage errors, allowing you to assess how accurately the reduced model preserves inter-zonal transfer limits.</p><ul><li>PTDF<em>Reduced</em>Network.csv:</li></ul><p>Contains Power Transfer Distribution Factors (PTDFs) for the reduced network. These sensitivities can be directly used in optimisation models such as DC OPF, unit commitment, or market simulations.</p><h4 id="Interpreting-the-Results"><a class="docs-heading-anchor" href="#Interpreting-the-Results">Interpreting the Results</a><a id="Interpreting-the-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Interpreting-the-Results" title="Permalink"></a></h4><p>A successful reduction should exhibit:</p><ul><li><p>Small TTC mismatches (typically &lt; 1–2%)</p></li><li><p>Physically consistent flow sensitivities</p></li><li><p>A significantly reduced network size (tens of nodes instead of thousands)</p></li></ul><p>If large TTC errors are observed, users should review:</p><ul><li><p>zone definitions,</p></li><li><p>representative node selection,</p></li><li><p>unit consistency (per-unit vs physical units),</p></li><li><p>solver configuration.</p></li></ul><h4 id="Advanced:-Interpreting-Results"><a class="docs-heading-anchor" href="#Advanced:-Interpreting-Results">Advanced: Interpreting Results</a><a id="Advanced:-Interpreting-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced:-Interpreting-Results" title="Permalink"></a></h4><p>If the optimization fails to converge, consider:</p><ul><li><strong>Checking Connectivity:</strong> Ensure all representative nodes are electrically connected in the original network.</li><li><strong>Adjusting Lambda:</strong> Increase <span>$\lambda$</span> in <code>CONFIG</code> if synthetic capacities are fluctuating significantly.</li><li><strong>Big-M Factor:</strong> For &quot;MIQP&quot; (MILP), adjust the <code>bigM_factor</code> if binding constraints are not being identified correctly.</li></ul><hr/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../02-mathematical-formulation/">« Mathematical Formulation</a><a class="docs-footer-nextpage" href="../04-api/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 11 February 2026 10:00">Wednesday 11 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
